---
title: "Random Rom"
date: 2020-10-24
---
{% set html %}
<blockquote></blockquote>

<button>More Ron</button>


{% endset %}

<div class="htmlBox">
  {{ html | safe }}
</div>

{% highlight "html" %}
{{ html | safe }}
{% endhighlight %}

{% set js %}
<script async>

  // Variables
  let ronQuote = document.querySelector('blockquote');
  let ronButton = document.querySelector('button');

  // Methods
  function callRon() {
    fetch('https://ron-swanson-quotes.herokuapp.com/v2/quotes').then(function (response) {
      if (response.ok) {
        return response.json();
      } else {
        return Promise.reject(response);
      }
    }).then(function (data) {
      ronQuote.textContent = data[0];
    }).
      catch(function (err) {
        console.warn("oh no something went wrong", err);
      })
  };
  function handleInput(event) {
    if (event.target !== ronButton) return;
    callRon();
  };

  // Listeners and inits
  callRon();
  document.addEventListener('click', handleInput);

</script>
{% endset %}

{% highlight "html" %}
{{ js | safe }}
{% endhighlight %}

<div class="htmlBox">
  {% markdown '/notes/7.md' %}
</div>

{{ js | safe }}