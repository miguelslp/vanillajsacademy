<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the Monsters before the sock!</title>
    <meta name="description" content="Exercises on Vanilla JS Academy 2020">
    <link rel="stylesheet" href="/vanillajsacademy/css/index.css">
    <link rel="stylesheet" href="/vanillajsacademy/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/vanillajsacademy/feed/feed.xml" type="application/atom+xml" title="miguelslp - Vanilla JS">
    <link rel="alternate" href="/vanillajsacademy/feed/feed.json" type="application/json" title="miguelslp - Vanilla JS">
  </head>
  <body>
    <header>
      <h1 class="home">
        <a href="/vanillajsacademy/">miguelslp - Vanilla JS</a>
      </h1>
      
    </header>

    <main  class="tmpl-post" >
      <h1>Find the Monsters before the sock!</h1>

<div class="grid">

<!-- Setting the html code -->


<!-- Setting the js code -->


<!-- Rendering the html -->
<div class="htmlBox">
<header class="full-width l-cluster scoreHeader">
  <div>
    <p id="score" aria-live="polite">Score: 0</p>
  </div>
</header>
<div id="app" class="monsterGrid"></div>
<footer>
  <hr />
  <p>
    Icons by
    <a href="https://thenounproject.com/term/door/311732/">Jamie Dickinson</a>,
    <a href="https://thenounproject.com/term/monster/184225/">Nicky Knicky</a>,
    <a href="https://thenounproject.com/term/monster/1510400/">Alvaro Cabrera</a>, <a
      href="https://thenounproject.com/term/monster/28460/">Eliricon</a>,
    <a href="https://thenounproject.com/term/monster/82823/">April Yang</a>,
    <a href="https://thenounproject.com/term/monster/1062009/">tk66</a>,
    <a href="https://thenounproject.com/term/monster/24990/">Alex WaZa</a>,
    <a href="https://thenounproject.com/term/monster/37212/">Husein Aziz</a>,
    <a href="https://thenounproject.com/term/monster/2236082">iconcheese</a>,
    and
    <a href="https://thenounproject.com/term/socks/38451/">Yazmin Alanis</a>.
  </p>
</footer>
</div>

<!-- Rendering the html and js as syntax highlight -->
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>full-width l-cluster scoreHeader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>score<span class="token punctuation">"</span></span> <span class="token attr-name">aria-live</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>polite<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Score: 0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>monsterGrid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><br>    Icons by<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/door/311732/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Jamie Dickinson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/184225/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Nicky Knicky<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/1510400/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Alvaro Cabrera<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/28460/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Eliricon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/82823/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>April Yang<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/1062009/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>tk66<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/24990/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Alex WaZa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/37212/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Husein Aziz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/monster/2236082<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>iconcheese<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>,<br>    and<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://thenounproject.com/term/socks/38451/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Yazmin Alanis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>.<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br> <br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>  <span class="token comment">// Variables</span><br>  <span class="token keyword">let</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> scoreElem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#score'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> score <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> monsters <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token string">"monster1"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster2"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster3"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster4"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster5"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster6"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster7"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster8"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster9"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster10"</span><span class="token punctuation">,</span><br>    <span class="token string">"monster11"</span><span class="token punctuation">,</span><br>    <span class="token string">"sock"</span><span class="token punctuation">,</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> playButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  playButton<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"playButton"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  playButton<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">"Play again"</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Methods</span><br>  <span class="token keyword">let</span> <span class="token function-variable function">shuffle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> currentIndex <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br>    <span class="token keyword">let</span> temporaryValue<span class="token punctuation">,</span> randomIndex<span class="token punctuation">;</span><br><br>    <span class="token comment">// While there remain elements to shuffle...</span><br>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!==</span> currentIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment">// Pick a remaining element...</span><br>      randomIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> currentIndex<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      currentIndex <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// And swap it with the current element.</span><br>      temporaryValue <span class="token operator">=</span> array<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">;</span><br>      array<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>randomIndex<span class="token punctuation">]</span><span class="token punctuation">;</span><br>      array<span class="token punctuation">[</span>randomIndex<span class="token punctuation">]</span> <span class="token operator">=</span> temporaryValue<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">return</span> array<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">monstersGrid</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">shuffle</span><span class="token punctuation">(</span>monsters<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>        &lt;div class="monsterGridItem" aria-live="polite"><br>          &lt;button data-monster-id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> class=""><br>            &lt;img src="../../img/door.svg" alt="A door where a monster lies behind">&lt;/img><br>        &lt;/button><br>        &lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">swapImage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">monster<span class="token punctuation">,</span> monsterID</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    monster<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>    &lt;img class="monsterGridItem" src="../../img/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>monsterID<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.svg" alt="An image of a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>monsterID <span class="token operator">===</span> <span class="token string">"sock"</span> <span class="token operator">?</span> <span class="token string">"sock"</span> <span class="token operator">:</span> <span class="token string">"monster"</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">">&lt;/img></span><span class="token template-punctuation string">`</span></span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">goodPick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    score<span class="token operator">++</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">===</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      scoreElem<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Score: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>score<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. Yay you've won! 🎉</span><span class="token template-punctuation string">`</span></span><br>      <span class="token function">endGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">return</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    scoreElem<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Score: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>score<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">wrongPick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    scoreElem<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Score: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>score<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. You've found a sock and lost the game 😢</span><span class="token template-punctuation string">`</span></span><br>    <span class="token function">endGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">endGame</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> doorsLeft <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'[data-monster-id]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    doorsLeft<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">door</span> <span class="token operator">=></span> door<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    scoreElem<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span>playButton<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">restartGame</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#playButton'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    score <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    scoreElem<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Score: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>score<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>    <span class="token function">monstersGrid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">let</span> <span class="token function-variable function">clickHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// if it is the playButton, restart game</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target <span class="token operator">===</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#playButton'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">restartGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// if it is a door, swap images</span><br>    <span class="token keyword">let</span> monster <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span><span class="token string">'[data-monster-id]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>monster<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><br>    <span class="token keyword">let</span> monsterID <span class="token operator">=</span> monster<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-monster-id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">swapImage</span><span class="token punctuation">(</span>monster<span class="token punctuation">,</span> monsterID<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// decide if it was a good or wrong pick</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>monsterID <span class="token operator">===</span> <span class="token string">"sock"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">wrongPick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token function">goodPick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// Inits and listeners</span><br>  <span class="token function">monstersGrid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> clickHandler<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>

<!-- Inserting the js as a script -->

<script>
  // Variables
  let elem = document.querySelector("#app");
  let scoreElem = document.querySelector('#score');
  let score = 0;
  let monsters = [
    "monster1",
    "monster2",
    "monster3",
    "monster4",
    "monster5",
    "monster6",
    "monster7",
    "monster8",
    "monster9",
    "monster10",
    "monster11",
    "sock",
  ];
  let playButton = document.createElement('button');
  playButton.setAttribute("id", "playButton");
  playButton.textContent = "Play again";

  // Methods
  let shuffle = function (array) {
    let currentIndex = array.length;
    let temporaryValue, randomIndex;

    // While there remain elements to shuffle...
    while (0 !== currentIndex) {
      // Pick a remaining element...
      randomIndex = Math.floor(Math.random() * currentIndex);
      currentIndex -= 1;

      // And swap it with the current element.
      temporaryValue = array[currentIndex];
      array[currentIndex] = array[randomIndex];
      array[randomIndex] = temporaryValue;
    }

    return array;
  };

  let monstersGrid = function () {
    elem.innerHTML = shuffle(monsters.slice())
      .map(function (item) {
        return `
        <div class="monsterGridItem" aria-live="polite">
          <button data-monster-id=${item} class="">
            <img src="../../img/door.svg" alt="A door where a monster lies behind"></img>
        </button>
        </div>`;
      })
      .join("");
  };

  let swapImage = function (monster, monsterID) {
    monster.parentNode.innerHTML = `
    <img class="monsterGridItem" src="../../img/${monsterID}.svg" alt="An image of a ${monsterID === "sock" ? "sock" : "monster"}"></img>`
  }

  let goodPick = function () {
    score++;
    if (score === 11) {
      scoreElem.textContent = `Score: ${score}. Yay you've won! 🎉`
      endGame();
      return;
    }
    scoreElem.textContent = `Score: ${score}`;
  }

  let wrongPick = function () {
    scoreElem.textContent = `Score: ${score}. You've found a sock and lost the game 😢`
    endGame();
  }

  let endGame = function () {
    let doorsLeft = Array.from(document.querySelectorAll('[data-monster-id]'))
    doorsLeft.forEach(door => door.remove());
    scoreElem.after(playButton);
  }

  let restartGame = function () {
    document.querySelector('#playButton').remove();
    score = 0;
    scoreElem.textContent = `Score: ${score}`;
    monstersGrid();
  }

  let clickHandler = function (event) {
    // if it is the playButton, restart game
    if (event.target === document.querySelector('#playButton')) return restartGame();
    // if it is a door, swap images
    let monster = event.target.closest('[data-monster-id]');
    if (!monster) return;
    let monsterID = monster.getAttribute('data-monster-id');
    swapImage(monster, monsterID);
    // decide if it was a good or wrong pick
    if (monsterID === "sock") {
      wrongPick();
    }
    else {
      goodPick();
    }
  }

  // Inits and listeners
  monstersGrid();
  document.addEventListener("click", clickHandler);

</script>

</div>

    </main>

    <footer>
      ©
      Miguel Pinto
      2021
    </footer>

    <!-- Current page: /vanillajsacademy/posts/27/ -->

    
    
  </body>
</html>