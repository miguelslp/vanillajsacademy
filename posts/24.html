---
title: "Form Autosave"
date: 2020-11-30
---
<style>
 
</style>
<!-- Setting the html code -->
{% set html %}
<form class="save-me" id="save-me">

  <label for="name">Name</label>
  <input type="text" name="name" id="name">

  <label for="address">Address</label>
  <input type="text" name="address" id="address">

  <label for="email">Email</label>
  <input type="email" name="email" id="email">

  <label for="more">Additional thoughts?</label>
  <textarea name="more" id="more"></textarea>

  <p>
    <button type="submit">Submit</button>
  </p>

</form>
{% endset %}
<!-- Setting the js code -->
{% set js %}
<script>
var form = document.querySelector('#save-me');
var btn = document.querySelector('button');

var formData = function() {
   let data = Array.from(form.querySelectorAll('input')).map(e => e.value);
   localStorage.setItem('formData', data);
   console.log(data);
}

var formStart = function () {
  let data = localStorage.getItem('formData');
}

document.addEventListener('input', formData);
btn.addEventListener('click', localStorage.removeItem('formData'));

</script>
{% endset %}

<!-- Rendering the html -->
<div class="htmlBox">
  {{ html | safe }}
</div>

<!-- Rendering the html and js as syntax highlight -->
{% highlight "html" %} {{ html | safe }} {{ js | safe }} {% endhighlight %}

<!-- Inserting the js as a script -->
{{ js | safe }}