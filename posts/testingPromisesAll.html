---
title: "Promise test"
date: 2020-10-30
---
{% set html %}
<div id="app">
  <span id="placeholder"></span>
</div>
{% endset %}

<div class="htmlBox">
  {{ html | safe }}
</div>

{% highlight "html" %}
{{ html | safe }}
{% endhighlight %}

{% set js %}
<script async>

  // Variables
  let elem = document.querySelector('#app');

  

  Promise.allSettled([
  Promise.reject(new Error('an error')),
  Promise.resolve(1)
])
.then(() => elem.innerHTML += 'it worked');

// [
//   {status: "fulfilled", value: 33},
//   {status: "fulfilled", value: 66},
//   {status: "fulfilled", value: 99},
//   {status: "rejected",  reason: Error: an error}
// ]
</script>
{% endset %}

{% highlight "html" %}
{{ js | safe }}
{% endhighlight %}

<div class="htmlBox">

</div>

{{ js | safe }}